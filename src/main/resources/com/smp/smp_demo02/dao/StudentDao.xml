<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--namespace: 需要映射的Dao接口类型-->
<mapper namespace="com.smp.smp_demo02.dao.StudentDao">
    <resultMap id="studentMap" type="student">
        <id column="sid" property="sid"/>
        <result column="sname" property="sname"/>
        <result column="spassword" property="spassword"/>
        <result column="ssex" property="ssex"/>
        <result column="sage" property="sage"/>
        <result column="sbirthday" property="sbirthday"/>
        <result column="sgrade_id" property="sgradeId"/>
        <result column="sdept_id" property="sdeptId"/>
        <result column="sjudge_id" property="sjudgeId"/>
        <result column="sphone" property="sphone"/>
        <result column="semail" property="semail"/>
        <result column="sstate" property="sstate"/>
    </resultMap>
    
    <!--List<Student> findAll();-->
    <select id="findAll" resultMap="studentMap">
        select * from stu
    </select>

    <!--//增加学生
    void saveStudent(Student student);-->
    <insert id="saveStudent" parameterType="student">
        insert into stu (
            sid       ,
            sname     ,
            spassword ,
            ssex      ,
            sage      ,
            sbirthday ,
            sgrade_id ,
            sdept_id  ,
            sjudge_id ,
            sphone    ,
            semail    ,
            sstate
            )
            values(
            #{sid       },
            #{sname     },
            #{spassword },
            #{ssex      },
            #{sage      },
            #{sbirthday },
            #{sgradeId },
            #{sdeptId  },
            #{sjudgeId },
            #{sphone    },
            #{semail    },
            #{sstate    }
            )
    </insert>
    <!--//保存修改，根据id
    Student findBySid(String sid); -->
    <select id="findBySid" parameterType="string" resultMap="studentMap">
        select * from stu where sid=#{sid}
    </select>

    <!--//修改
    void updateStudent(Student student);-->
    <update id="updateStudent" parameterType="student">
        update stu set
            sname     = #{sname     },
            spassword = #{spassword },
            ssex      = #{ssex      },
            sage      = #{sage      },
            sbirthday = #{sbirthday },
            sgrade_id = #{sgradeId  },
            sdept_id  = #{sdeptId   },
            sjudge_id = #{sjudgeId  },
            sphone    = #{sphone    },
            semail    = #{semail    },
            sstate    = #{sstate    }
        where sid =#{sid}
    </update>
    <!--//删除
    void deleteStudent(String sid);-->
    <delete id="deleteStudent" parameterType="string">
        delete from stu where sid=#{sid}
    </delete>
</mapper>